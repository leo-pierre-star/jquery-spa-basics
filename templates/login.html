<form action="/jquery-spa-basics/login.php" method="POST" id="login-form">
    <!-- @info si l'utilisateur s'est déjà connecté une première fois, on lui affiche l'email qu'il avait utilisé dans le champ email -->
    <div class="form-group">
        <label for="email">Email</label>
        <input class="form-control" type="text" id="email" name="email">
    </div>
    <div class="form-group">
        <label for="password">Password</label>
        <input class="form-control" type="password" id="password" name="password">
    </div>

    <p class="alert alert-error"></p>
    <input type="submit" class="btn btn-success">
</form>

<script>
    $('#login-form').submit(function(event) {
        event.preventDefault();

        let data = $(this).serializeArray();
        
        $.post($(this).attr('action'), data)
        .then(function(response) {
            response = JSON.parse(response);

            if (response.error) {
                $('.alert').html(response.error);
                
                return;
            }

            window.location.hash = "#homepage";
        })
    })
</script>